title: "Identify User"
description: "Associate traits with a user ID"
default_language: ruby

languages:
  ruby:
    label: "Ruby"
    syntax: "ruby"
    code: |
      Mbuzz.identify(
        user_id: current_user.id,
        traits: {
          email: current_user.email,
          name: current_user.name,
          plan: current_user.plan,
          company: current_user.company_name
        }
      )

  curl:
    label: "REST API"
    syntax: "bash"
    code: |
      curl -X POST <%= api_v1_events_url.gsub('/events', '/identify') %> \
        -H "Authorization: Bearer $MBUZZ_API_KEY" \
        -H "Content-Type: application/json" \
        -d '{
          "user_id": "123",
          "traits": {
            "email": "user@example.com",
            "name": "Jane Doe",
            "plan": "pro"
          }
        }'
