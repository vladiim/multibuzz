title: "Configure API Key"
description: "Set up authentication for the mbuzz API"
default_language: ruby

languages:
  ruby:
    label: "Ruby"
    syntax: "ruby"
    code: |
      # config/initializers/mbuzz.rb
      Mbuzz.configure do |config|
        config.api_key = ENV['MBUZZ_API_KEY']
        config.api_url = '<%= api_v1_events_url.gsub("/events", "") %>'
        config.enabled = !Rails.env.test?
        config.debug = Rails.env.development?
      end

  curl:
    label: "REST API"
    syntax: "bash"
    code: |
      # Set your API key as environment variable
      export MBUZZ_API_KEY=sk_test_your_key_here

      # Use in Authorization header
      curl -H "Authorization: Bearer $MBUZZ_API_KEY" \
           <%= api_v1_events_url %>
